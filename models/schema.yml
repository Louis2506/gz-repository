version: 2

models:

    - name: sales
      description : One line by orders_id and products_id. Revenue & margin informations
      tests:
        - unique:
            column_name: "(orders_id || '-' || products_id)"

      columns:
          - name: orders_id 
            description : the unique identifier of the orders
            tests : 
            - not_null

          - name: products_id
            description : the unique identifier of the products. A products appears only in one single row for the same orders_id
            tests : 
            - not_null

          - name: qty
            description : the quantity of the product bought by the customers in the orders

          - name: turnover
            description : the revenue generated by the purchase of the product
            tests : 
            - not_null 

          - name: purchase_cost
            description : the cost paid by the purchase team to buy the product to the provider
            tests : 
            - not_null

          - name: margin
            description : the product margin. Subtraction of the turnover and the purchase_cost
    - name : orders
      description: One line by orders_id and operational margin informations
      columns:
        - name: orders_id
          tests:
            - unique
            - not_null
        - name: operational_margin
          tests:
            - not_null
    - name: int_campaign
      description: One line by campaign_name (campaign_name can have several paid_source) & Ads_costs informations
      tests:
        - unique:
            column_name: "(campaign_name || '-' || paid_source || '-' || date_date)"
      columns:
        - name: campaign_name
          tests:
            - not_null
        - name: ads_cost_total
          tests:
            -  not_null
    - name : finance
      description: One line by date
      columns:
        - name: date_date
          tests:
            - unique
            - not_null
                
